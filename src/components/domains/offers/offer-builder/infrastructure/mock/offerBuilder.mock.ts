import type { Offer, OfferBlock, OfferBlockItem, OfferAdjustment } from '../../types'

export const MOCK_ADJUSTMENTS: OfferAdjustment[] = [
  {
    id: 'adj-001',
    offerId: 'offer-001',
    requestedBy: 'customer-789',
    requestedByType: 'customer',
    requestedAt: '2025-06-02T10:00:00Z',
    adjustmentType: 'special_instruction',
    targetEntity: 'item',
    targetEntityId: 'item-001',
    changeDescription: 'Can we add vegan butter option for the avocado toast?',
    proposedChange: {},
    priceImpactCents: 0,
    status: 'pending',
    comments: [
      {
        id: 'comment-001',
        adjustmentId: 'adj-001',
        authorId: 'caterer-456',
        authorType: 'caterer',
        message: 'Yes, we can provide vegan butter at no extra charge.',
        createdAt: '2025-06-02T10:30:00Z'
      },
      {
        id: 'comment-002',
        adjustmentId: 'adj-001',
        authorId: 'customer-789',
        authorType: 'customer',
        message: 'Perfect, thank you!',
        createdAt: '2025-06-02T11:00:00Z'
      }
    ]
  },
  {
    id: 'adj-002',
    offerId: 'offer-001',
    requestedBy: 'customer-789',
    requestedByType: 'customer',
    requestedAt: '2025-06-02T11:30:00Z',
    adjustmentType: 'quantity_change',
    targetEntity: 'item',
    targetEntityId: 'item-002',
    changeDescription: 'Can we increase the yogurt parfaits to 40 instead of 30?',
    proposedChange: {
      quantity: 40
    },
    priceImpactCents: 8500,
    status: 'approved',
    comments: []
  },
  {
    id: 'adj-003',
    offerId: 'offer-001',
    requestedBy: 'customer-789',
    requestedByType: 'customer',
    requestedAt: '2025-06-02T14:00:00Z',
    adjustmentType: 'special_instruction',
    targetEntity: 'block',
    targetEntityId: 'block-002',
    changeDescription: 'Setup needs to be completed by 11:15 AM instead of 11:30 AM',
    proposedChange: {},
    priceImpactCents: 0,
    status: 'pending',
    comments: [
      {
        id: 'comment-003',
        adjustmentId: 'adj-003',
        authorId: 'caterer-456',
        authorType: 'caterer',
        message: 'We can accommodate this. I\'ll update the delivery time to 11:00 AM.',
        createdAt: '2025-06-02T14:15:00Z'
      }
    ]
  }
]

export const MOCK_OFFERS: Offer[] = [
  {
    id: 'offer-001',
    title: 'Corporate Breakfast & Lunch - June 15',
    description: 'Two-block catering offer for company quarterly meeting',
    requestId: 'request-123',
    catererId: 'caterer-456',
    customerId: 'customer-789',
    currency: 'USD',
    status: 'sent',
    version: 2,
    validUntil: '2025-06-14T23:59:59Z',
    blocks: [
      {
        id: 'block-001',
        offerId: 'offer-001',
        name: 'Breakfast Service',
        description: 'Morning breakfast for 50 attendees',
        date: '2025-06-15',
        deliveryTime: '07:00',
        startTime: '07:30',
        endTime: '09:00',
        pickupTime: '09:30',
        headcount: 50,
        location: 'Main Conference Room',
        position: 0,
        items: [
          {
            id: 'item-001',
            blockId: 'block-001',
            itemType: 'menu_item',
            itemName: 'Avocado Toast',
            itemDescription: 'Fresh avocado on sourdough - Appetizer',
            menuItemId: 'item-001',
            quantity: 50,
            unitPriceCents: 1200,
            lineItemTotal: 60000,
            isOptional: false,
            taxRateBps: 825,
            position: 0,
          },
          {
            id: 'item-002',
            blockId: 'block-001',
            itemType: 'menu_item',
            itemName: 'Greek Yogurt Parfait',
            itemDescription: 'With granola and berries - Main Course',
            menuItemId: 'item-002',
            quantity: 30,
            unitPriceCents: 850,
            lineItemTotal: 25500,
            isOptional: false,
            taxRateBps: 825,
            position: 1,
          },
          {
            id: 'item-003',
            blockId: 'block-001',
            itemType: 'menu_item',
            itemName: 'Fresh Fruit Platter',
            itemDescription: 'Seasonal fruits - Side',
            menuItemId: 'item-003',
            quantity: 5,
            unitPriceCents: 3500,
            lineItemTotal: 17500,
            isOptional: false,
            taxRateBps: 825,
            position: 2,
          },
          {
            id: 'item-004',
            blockId: 'block-001',
            itemType: 'menu_item',
            itemName: 'Mini Croissants',
            itemDescription: 'Butter and chocolate - Dessert',
            menuItemId: 'item-004',
            quantity: 100,
            unitPriceCents: 250,
            lineItemTotal: 25000,
            isOptional: false,
            taxRateBps: 825,
            position: 3,
          },
          {
            id: 'item-005',
            blockId: 'block-001',
            itemType: 'menu_item',
            itemName: 'Coffee (Regular)',
            itemDescription: 'Freshly brewed - Beverage',
            menuItemId: 'item-010',
            quantity: 50,
            unitPriceCents: 300,
            lineItemTotal: 15000,
            isOptional: false,
            taxRateBps: 825,
            position: 4,
          },
          {
            id: 'item-006',
            blockId: 'block-001',
            itemType: 'menu_item',
            itemName: 'Orange Juice',
            itemDescription: 'Freshly squeezed - Beverage',
            menuItemId: 'item-011',
            quantity: 25,
            unitPriceCents: 400,
            lineItemTotal: 10000,
            isOptional: false,
            taxRateBps: 825,
            position: 5,
          },
          {
            id: 'item-007',
            blockId: 'block-001',
            itemType: 'equipment',
            itemName: 'Chafing Dishes',
            itemDescription: 'With fuel',
            quantity: 4,
            unitPriceCents: 1500,
            lineItemTotal: 6000,
            isOptional: false,
            taxRateBps: 825,
            position: 6,
          },
          {
            id: 'item-008',
            blockId: 'block-001',
            itemType: 'equipment',
            itemName: 'Coffee Urns',
            itemDescription: '100-cup capacity',
            quantity: 2,
            unitPriceCents: 2000,
            lineItemTotal: 4000,
            isOptional: false,
            taxRateBps: 825,
            position: 7,
          },
          {
            id: 'item-009',
            blockId: 'block-001',
            itemType: 'service',
            itemName: 'Service Staff',
            itemDescription: '2 servers for 2 hours',
            quantity: 2,
            unitPriceCents: 5000,
            lineItemTotal: 10000,
            isOptional: false,
            taxRateBps: 825,
            position: 8,
          },
          {
            id: 'item-010',
            blockId: 'block-001',
            itemType: 'delivery',
            itemName: 'Delivery & Setup',
            itemDescription: 'Within 10 miles',
            quantity: 1,
            unitPriceCents: 7500,
            lineItemTotal: 7500,
            isOptional: false,
            taxRateBps: 825,
            position: 9,
          },
        ],
        subtotalCents: 180500,
      },
      {
        id: 'block-002',
        offerId: 'offer-001',
        name: 'Lunch Service',
        description: 'Executive lunch for 50 attendees',
        date: '2025-06-15',
        deliveryTime: '11:30',
        startTime: '12:00',
        endTime: '13:30',
        pickupTime: '14:00',
        headcount: 50,
        location: 'Main Conference Room',
        position: 1,
        items: [
          {
            id: 'item-011',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Caesar Salad',
            itemDescription: 'With grilled chicken - Salad',
            menuItemId: 'item-012',
            quantity: 40,
            unitPriceCents: 1100,
            lineItemTotal: 44000,
            isOptional: false,
            taxRateBps: 825,
            position: 0,
          },
          {
            id: 'item-012',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Grilled Salmon',
            itemDescription: 'With lemon butter sauce - Main Course',
            menuItemId: 'item-013',
            quantity: 30,
            unitPriceCents: 2800,
            lineItemTotal: 84000,
            isOptional: false,
            taxRateBps: 825,
            position: 1,
          },
          {
            id: 'item-013',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Chicken Piccata',
            itemDescription: 'With capers and white wine - Main Course',
            menuItemId: 'item-014',
            quantity: 20,
            unitPriceCents: 2200,
            lineItemTotal: 44000,
            isOptional: false,
            taxRateBps: 825,
            position: 2,
          },
          {
            id: 'item-014',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Roasted Vegetables',
            itemDescription: 'Seasonal selection - Side',
            menuItemId: 'item-015',
            quantity: 50,
            unitPriceCents: 600,
            lineItemTotal: 30000,
            isOptional: false,
            taxRateBps: 825,
            position: 3,
          },
          {
            id: 'item-015',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Garlic Mashed Potatoes',
            itemDescription: 'Creamy - Side',
            menuItemId: 'item-016',
            quantity: 50,
            unitPriceCents: 500,
            lineItemTotal: 25000,
            isOptional: false,
            taxRateBps: 825,
            position: 4,
          },
          {
            id: 'item-016',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Chocolate Mousse',
            itemDescription: 'With whipped cream - Dessert',
            menuItemId: 'item-017',
            quantity: 50,
            unitPriceCents: 650,
            lineItemTotal: 32500,
            isOptional: false,
            taxRateBps: 825,
            position: 5,
          },
          {
            id: 'item-017',
            blockId: 'block-002',
            itemType: 'menu_item',
            itemName: 'Iced Tea',
            itemDescription: 'Sweetened and unsweetened - Beverage',
            menuItemId: 'item-018',
            quantity: 50,
            unitPriceCents: 250,
            lineItemTotal: 12500,
            isOptional: false,
            taxRateBps: 825,
            position: 6,
          },
          {
            id: 'item-018',
            blockId: 'block-002',
            itemType: 'equipment',
            itemName: 'Serving Platters',
            itemDescription: 'Assorted sizes',
            quantity: 8,
            unitPriceCents: 800,
            lineItemTotal: 6400,
            isOptional: false,
            taxRateBps: 825,
            position: 7,
          },
          {
            id: 'item-019',
            blockId: 'block-002',
            itemType: 'service',
            itemName: 'Wait Staff',
            itemDescription: '3 servers for 2.5 hours',
            quantity: 3,
            unitPriceCents: 6000,
            lineItemTotal: 18000,
            isOptional: false,
            taxRateBps: 825,
            position: 8,
          },
          {
            id: 'item-020',
            blockId: 'block-002',
            itemType: 'delivery',
            itemName: 'Delivery & Cleanup',
            itemDescription: 'Same day pickup',
            quantity: 1,
            unitPriceCents: 10000,
            lineItemTotal: 10000,
            isOptional: false,
            taxRateBps: 825,
            position: 9,
          },
        ],
        subtotalCents: 306400,
      },
    ],
    subtotalCents: 486900,
    taxCents: 40169,
    discountCents: 0,
    totalCents: 527069,
    createdAt: '2025-06-01T10:00:00Z',
    createdBy: 'staff-001',
    updatedAt: '2025-06-01T15:00:00Z',
    sentAt: '2025-06-01T15:00:00Z',
    sentBy: 'staff',
    viewedAt: '2025-06-02T09:30:00Z',
    attachments: [],
    allowsStructuredEdit: true,
  },
]

export function generateMockOffer(overrides: Partial<Offer> = {}): Offer {
  const id = `offer-${Date.now()}`
  return {
    id,
    title: 'Untitled Offer',
    catererId: 'caterer-456',
    customerId: 'customer-789',
    currency: 'USD',
    status: 'draft',
    version: 1,
    blocks: [],
    subtotalCents: 0,
    taxCents: 0,
    discountCents: 0,
    totalCents: 0,
    createdAt: new Date().toISOString(),
    createdBy: 'user-001',
    attachments: [],
    allowsStructuredEdit: true,
    ...overrides,
  }
}

export function generateMockBlock(offerId: string, overrides: Partial<OfferBlock> = {}): OfferBlock {
  const id = `block-${Date.now()}`
  const now = new Date()
  const dateStr = now.toISOString().split('T')[0]

  return {
    id,
    offerId,
    name: 'New Service Block',
    date: dateStr,
    deliveryTime: '08:00',
    startTime: '08:30',
    endTime: '10:00',
    pickupTime: '10:30',
    items: [],
    subtotalCents: 0,
    position: 0,
    ...overrides,
  }
}

export function generateMockItem(blockId: string, overrides: Partial<OfferBlockItem> = {}): OfferBlockItem {
  const id = `item-${Date.now()}`

  return {
    id,
    blockId,
    itemType: 'menu_item',
    itemName: 'New Item',
    quantity: 1,
    unitPriceCents: 1000,
    lineItemTotal: 1000,
    isOptional: false,
    taxRateBps: 825,
    position: 0,
    ...overrides,
  }
}
